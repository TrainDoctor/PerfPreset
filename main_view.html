<html>
    <head>
        <link rel="stylesheet" href="/steam_resource/css/2.css">
        <link rel="stylesheet" href="/steam_resource/css/39.css">
        <link rel="stylesheet" href="/steam_resource/css/library.css">
        <script src="/static/library.js"></script>
        <script>
            // Python Functions
            //file is a filepath including suffix to the location of a vdf file
            function getVDF(file) {
                return call_plugin_method("get_vdf", {"file": file});
            }

            async function getGame() {
                return call_plugin_method("get_game", {});
            }

            async function getPerf() {
                return call_plugin_method("get_perf", {});
            }

            async function prettyPerf(obj) {
                return call_plugin_method("pretty_perf", {"obj": obj});
            }

            //Non-python
            async function getCurrentSettings() {
                let active = await getPerf();
                let prettyperf = await prettyPerf(active)
                document.getElementById("actsetdisplay").innerHTML = prettyperf;
            }
            async function getCurrentGame() {
                let game = await getGame();
                document.getElementById("actgamedisplay").innerHTML = game.toString();
            }
            async function autoPopulate() {
                await getCurrentSettings();
                await getCurrentGame();
            }
            window.setInterval('autoPopulate()', 500);
        </script>
        <style type="text/css" media="screen"></style>
    </head>
   
    <body onload="autoPopulate()">
        <div class="quickaccessmenu_TabGroupPanel_1QO7b Panel Focusable">
            <div class="quickaccesscontrols_PanelSectionRow_26R5w">
                <div class="quickaccesscontrols_PanelSectionRow_26R5w">
                    <div class="basicdialog_FieldLabel_2URP7" style="text-align:center;">
                        Active Game:
                    </div>
                    <div id="actgamedisplay" style="text-align:center;" onclick="getCurrentGame()">
                        Active Game
                    </div>
                    <div class="gamepaddialog_Field_eKmEX gamepaddialog_WithFirstRow_2bDqk gamepaddialog_InlineWrapShiftsChildrenBelow_3LCXh gamepaddialog_WithBottomSeparator_3YKpU gamepaddialog_ExtraPaddingOnChildrenBelow_3nLNL gamepaddialog_StandardPadding_xIITX gamepaddialog_HighlightOnFocus_2HFrm Panel Focusable"
                        style="--indent-level:0;">
                        <div class="gamepaddialog_FieldChildren_2rhav">
                            <button type="button"
                                class="DialogButton _DialogLayout Secondary gamepaddialog_Button_cXzBZ Focusable" tabindex="0">
                                Save Settings
                            </button>
                        </div>
                    </div>
                    <div class="gamepaddialog_Field_eKmEX gamepaddialog_WithFirstRow_2bDqk gamepaddialog_InlineWrapShiftsChildrenBelow_3LCXh gamepaddialog_WithBottomSeparator_3YKpU gamepaddialog_ExtraPaddingOnChildrenBelow_3nLNL gamepaddialog_StandardPadding_xIITX gamepaddialog_HighlightOnFocus_2HFrm Panel Focusable"
                        style="--indent-level:0;">
                        <div class="gamepaddialog_FieldChildren_2rhav">
                            <button type="button"
                                class="DialogButton _DialogLayout Secondary gamepaddialog_Button_cXzBZ Focusable" tabindex="0">
                                Load Settings
                            </button>
                        </div>
                    </div>
                    <div class="gamepaddialog_Field_eKmEX gamepaddialog_WithFirstRow_2bDqk gamepaddialog_InlineWrapShiftsChildrenBelow_3LCXh gamepaddialog_WithBottomSeparator_3YKpU gamepaddialog_ExtraPaddingOnChildrenBelow_3nLNL gamepaddialog_StandardPadding_xIITX gamepaddialog_HighlightOnFocus_2HFrm Panel Focusable"
                        style="--indent-level:0;">
                        <div class="gamepaddialog_FieldChildren_2rhav" onclick="getCurrentSettings()">
                            <div class="basicdialog_FieldLabel_2URP7">
                                Current Settings:
                            </div>
                        </div>
                    </div>
                    <div id="actsetdisplay"></div>
                </div>
            </div>
        </div>
    </body>
</html>